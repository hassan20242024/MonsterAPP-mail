{% extends "partial/body.html" %}

{% load crispy_forms_tags %}
{% load crispy_forms_filters %}
{% block contenido %}
{% load bootstrap5 %}

<!-- Margen Inicio -->
<link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://unpkg.com/bs-brain@2.0.4/components/contacts/contact-1/assets/css/contact-1.css">

 <!-- Contact 1 - Bootstrap Brain Component -->

<section class="bg-light py-3 py-md-5">
 

  <div class="container">
    <div class="row justify-content-lg-center">
      <div class="col-12 col-lg-9">
        <div class="shadow-sm overflow-hidden rounded " style="background-color: #1b3d70c2; ">
          <h5 class="text-white text-center  "><br>Observaciones de Secuencias</h5>
     </div>

        <div class="bg-white border rounded shadow-sm overflow-hidden">

          <form action="" id="myModelForm" method="POST">    {% csrf_token %}
          
            <div class="row gy-4 gy-xl-4 p-4 p-xl-4">
              {% if perms.auth.view_user %}
              <div class="col-12 col-md-6">
                {{ form.nombre|as_crispy_field  }}
              </div>
              <div class="col-12 col-md-6">
                {{ form.sistema|as_crispy_field  }}
              </div>
              <div class="col-12">
                {{ form.observaciones|as_crispy_field  }}
              </div>
              <div style="display: none;">
                {{ form.fecha_Inicio|as_crispy_field  }}
                {{ form.fecha_Final|as_crispy_field  }}
                {{ form.protocolo|as_crispy_field  }}
                {{ form.protocolo_proceso|as_crispy_field  }}
                {{ form.status|as_crispy_field  }}
                {{ form.parametro_sq|as_crispy_field  }}
                {{ form.metodo|as_crispy_field  }}
                {{ form.muestras|as_crispy_field  }}
                {{ form.fecha_invalidar|as_crispy_field  }}
                {{ form.fecha_validar|as_crispy_field  }}
                {{ form.fecha_impresion|as_crispy_field  }}
                {{ form.fecha_reporte|as_crispy_field  }}
                {{ form.fecha_auditada|as_crispy_field  }}
                {{ form.invalidar|as_crispy_field  }}
                {{ form.validar|as_crispy_field  }}
                {{ form.imprimir|as_crispy_field  }}
                {{ form.reportar|as_crispy_field  }}
                {{ form.auditar|as_crispy_field  }}
              </div>
              <div class="col-12">
                <div class="d-grid">
                  <button class="btn btn-primary btn-lg" type="submit" style="background-color: #1b3d70c2;">Actualizar campos</button> <br>
                  <div><a href="{% url 'proceso_secuencias_en_curso' %}" onclick='salir(event)' type="submit" class="btn btn-dark btn-lg btn-block" style="background-color: #7d848ec2;" >Cancelar</a>

                </div>
            </div>

             

              {% else %}
              <div class="col-12">
                {{ form.observaciones|as_crispy_field  }}
              </div>
            <div style="display: none;">
              {{ form.nombre|as_crispy_field  }}
              {{ form.fecha_Inicio|as_crispy_field  }}
              {{ form.fecha_Final|as_crispy_field  }}
              {{ form.protocolo|as_crispy_field  }}
              {{ form.protocolo_proceso|as_crispy_field  }}
              {{ form.sistema|as_crispy_field  }}
              {{ form.status|as_crispy_field  }}
              {{ form.parametro_sq|as_crispy_field  }}
              {{ form.metodo|as_crispy_field  }}
              {{ form.muestras|as_crispy_field  }}
              {{ form.fecha_invalidar|as_crispy_field  }}
              {{ form.fecha_validar|as_crispy_field  }}
              {{ form.fecha_impresion|as_crispy_field  }}
              {{ form.fecha_reporte|as_crispy_field  }}
              {{ form.fecha_auditada|as_crispy_field  }}
              {{ form.invalidar|as_crispy_field  }}
              {{ form.validar|as_crispy_field  }}
              {{ form.imprimir|as_crispy_field  }}
              {{ form.reportar|as_crispy_field  }}
              {{ form.auditar|as_crispy_field  }}
            </div>
             
<!------>
              <div class="col-12">
                <div class="d-grid">
                  <button class="btn btn-primary btn-lg" type="submit" style="background-color: #1b3d70c2;">Agregar observaciones</button> <br>
                  <div><a href="{% url 'proceso_secuencias_en_curso' %}" onclick='salir(event)' type="submit" class="btn btn-dark btn-lg btn-block" style="background-color: #7d848ec2;" >Cancelar</a>

                </div>
                </div>
            </div> {% endif %}
          </form>

        </div>
      </div>
    </div>
  </div>
</section>

<!-- Margen Final -->

<!-- Validación de campos -->
<script>
  function confirmar(event) { 
    
    event.preventDefault();
    Swal.fire({
  title: "Está seguro?",
  text: "Por favor, confirme el nuevo registro!",
  icon: "question",
  showCancelButton: true,
  confirmButtonColor: "#3085d6",
  cancelButtonColor: "#d33",
  confirmButtonText: "Confirmar!"
    }).then((result) => {
        if (result.isConfirmed) {
          document.getElementById('myModelForm').submit();
        }
    })
}
</script>
  <!-- validacion de campos-->


{% endblock contenido %}